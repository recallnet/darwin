{
  "run_id": "rl_enabled_run_001",
  "description": "Multi-playbook strategy with RL agents enabled in observe mode",
  "market_scope": {
    "venue": "coinbase",
    "symbols": ["BTC-USD", "ETH-USD"],
    "primary_timeframe": "15m",
    "additional_timeframes": ["1h", "4h"],
    "start_date": null,
    "end_date": null,
    "warmup_bars": 400
  },
  "fees": {
    "maker_bps": 6.0,
    "taker_bps": 12.5
  },
  "portfolio": {
    "starting_equity_usd": 10000.0,
    "max_positions": 3,
    "max_exposure_fraction": 0.8,
    "allow_leverage": false,
    "position_size_method": "equal_weight",
    "risk_per_trade_fraction": 0.02
  },
  "llm": {
    "provider": "anthropic",
    "model": "claude-3-sonnet-20240229",
    "temperature": 0.0,
    "max_tokens": 500,
    "max_calls_per_minute": 50,
    "max_retries": 3,
    "initial_retry_delay": 1.0,
    "circuit_breaker_threshold": 5,
    "fallback_decision": "skip"
  },
  "playbooks": [
    {
      "name": "breakout",
      "enabled": true,
      "entry_params": {
        "min_compression_bars": 12,
        "breakout_threshold_atr": 0.5,
        "volume_confirm_threshold": 1.5
      },
      "stop_loss_atr": 2.0,
      "take_profit_atr": 4.0,
      "time_stop_bars": 32,
      "trailing_enabled": true,
      "trailing_activation_atr": 1.0,
      "trailing_distance_atr": 1.2
    },
    {
      "name": "pullback",
      "enabled": true,
      "entry_params": {
        "trend_lookback_bars": 50,
        "pullback_threshold_pct": 0.05,
        "volume_confirm_threshold": 1.2
      },
      "stop_loss_atr": 1.5,
      "take_profit_atr": 3.0,
      "time_stop_bars": 48,
      "trailing_enabled": true,
      "trailing_activation_atr": 1.0,
      "trailing_distance_atr": 0.8
    }
  ],
  "rl": {
    "enabled": true,
    "gate_agent": {
      "name": "gate",
      "enabled": true,
      "mode": "observe",
      "model_path": "artifacts/rl_models/gate/current",
      "graduation_thresholds": {
        "min_training_samples": 1000,
        "min_validation_samples": 200,
        "min_validation_metric": 0.1,
        "baseline_type": "pass_all",
        "min_improvement_pct": 20.0
      }
    },
    "portfolio_agent": {
      "name": "portfolio",
      "enabled": true,
      "mode": "observe",
      "model_path": "artifacts/rl_models/portfolio/current",
      "graduation_thresholds": {
        "min_training_samples": 500,
        "min_validation_samples": 100,
        "min_validation_metric": 1.5,
        "baseline_type": "equal_weight",
        "min_improvement_pct": 10.0
      }
    },
    "meta_learner_agent": {
      "name": "meta_learner",
      "enabled": true,
      "mode": "observe",
      "model_path": "artifacts/rl_models/meta_learner/current",
      "graduation_thresholds": {
        "min_training_samples": 2000,
        "min_validation_samples": 400,
        "min_validation_metric": 1.0,
        "baseline_type": "llm_only",
        "min_improvement_pct": 10.0
      }
    },
    "models_dir": "artifacts/rl_models",
    "agent_state_db": "artifacts/rl_state/agent_state.sqlite",
    "max_override_rate": 0.2
  },
  "decision_timing": "on_close",
  "fill_timing": "next_open",
  "price_source": "ohlcv",
  "slippage_model": "static_spread",
  "feature_mode": "full",
  "artifacts_dir": "artifacts",
  "generate_plots": true,
  "save_payloads": true,
  "save_responses": true
}
